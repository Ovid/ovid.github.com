

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Facebook -->

  <meta property="fb:app_id" content="329861788447703" />
  
  <meta property="og:image" content="https://ovid.github.io/static/images/facebook/ovid-facebook.jpg" />
  <meta property="og:image:alt" content="A black and white image of the author, Curtis “Ovid” Poe." />
  
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://ovid.github.io/blog/programming-in-1987-versus-today.html" />
  <meta property="og:title" content="Programming in 1987 Versus Today" />
  <meta property="og:description" content="Many developers today have no idea what programming was like in the 80s." />

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129723079-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129723079-1');
  </script>


  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <title>Programming in 1987 Versus Today</title>
  <meta name="description" content="Programming in 1987 Versus Today">
  <meta name="author" content="Curtis Poe">
  <link rel="alternate" type="application/rss+xml" title="Subscribe to my technical blog" href="https://ovid.github.io/article.rss" />
  <link rel="alternate" type="application/rss+xml" title="Subscribe to my personal blog" href="https://ovid.github.io/blog.rss" />

  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS -->
  <link rel="stylesheet" href="/static/css/normalize.css">
  <link rel="stylesheet" href="/static/css/skeleton.css">
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/dialog.css">
  <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" type="text/css" href="/static/css/prism.css"/> 
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page Layout -->
  <div class="container">
    <div class="row books">
        <div class="twelve columns header">
			<ul>
			<li><a
            href="https://www.amazon.com/Perl-Hacks-Programming-Debugging-Surviving/dp/0596526741/"
            target="_blank"><img src="/static/images/perl-hacks.jpg"
            alt="The cover of the 'Perl Hacks' book" class="book"></a></li>
			<li><a
            href="https://www.amazon.com/Beginning-Perl-Curtis-Poe/dp/1118013840/"
            target="_blank"><img src="/static/images/beginning-perl.jpg"
            alt="The cover of the 'Beginning Perl' book" class="book"></a></li>
			<li><img class="book" src="/static/images/profile.png" alt="An
            image of Curtis Poe, holding some electronic equipment in front of
            his face."></li>
			</ul>
        </div>
    </div>
    <div class="row title blog">
        <!-- Back to top button -->
        <span aria-hidden="true"><a href="#top" class="arrow"><button id="scrollToTopButton">↑</button></a></span>
        <h1>Programming in 1987 Versus Today</h1>
        <time>2022-01-03</time>
        <hr>
        <div class="twelve columns header">
        </div>
    </div>
    <div class="row">
      <div class="three columns">
        <ul>
          <li><a href="/index.html">Home</a></li>
          <li><a href="/articles.html">Technical Articles</a> <a href="/article.rss"><img border="0" alt="Subscribe to Articles by Ovid" src="/static/images/rss.png" width="12" height="12"/></a></li>
          <li><a href="/blog.html">Blog</a> <a href="/blog.rss"><img border="0" alt="Subscribe to Blogs by Ovid" src="/static/images/rss.png" width="12" height="12"/></a></li>
          <li><a href="/hireme.html">Hire Me</a></li>
          <li><a href="/publicspeaking.html">Public Speaking</a></li>
          <li><a href="/wildagile.html">WildAgile</a></li>
          <li><a href="/tau-station.html">Tau Station</a></li>
          <li><a href="/starmap.html">Starmap</a></li>
        </ul>
      </div>

        <div class="nine columns verticalLine article">

    <div class="prevNext">
        
        <a href="/blog/how-i-got-caught-in-high-school.html" class="prevPost">&laquo; How I Got Caught in High School</a>
        
        <a href="/#" class="nextPost"></a>
    </div>

        <hr>


<blockquote>
  <p>“Hit the skeleton with the sword, take his ring, and then walk north and touch
  the altar.”</p>
</blockquote>

<p>The year is 2022 and 35 years later, I still remember that damned sentence.
The year was 1987 and I was writing a text adventure in BASIC for the <a href="https://en.wikipedia.org/wiki/TRS-80_Color_Computer#Color_Computer_2_(1983%E2%80%931986)" target="_blank">COCO
2</a> <span class="fa fa-external-link fa_custom"></span>.</p>

<p><figure class="image">
    <img src="/static/images/coco-2.jpg" width="600" alt="The TRS-80 Color Computer 2">
    <figcaption>The TRS-80 Color Computer 2 <a href="https://commons.wikimedia.org/wiki/File:TRS-80_Color_Computer_2_(PAL)_4x3.jpg" target="_blank">Source</a> <span class="fa fa-external-link fa_custom"></span></figcaption>
</figure></p>

<p>Because it included BASIC for free, and because that was the only programming
language I knew at the time, that’s what I was coding it in. If you’ve never
seen BASIC, <a href="https://github.com/coding-horror/basic-computer-games/tree/main/47_Hi-Lo" target="_blank">here’s a hi-lo game programmed in
it</a> <span class="fa fa-external-link fa_custom"></span>:</p>

<div class="shadow"><pre class="scrolled"><code class="language-basic">10 PRINT TAB(34);&quot;HI LO&quot;
20 PRINT TAB(15);&quot;CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY&quot;
30 PRINT:PRINT:PRINT
100 PRINT &quot;THIS IS THE GAME OF HI LO.&quot;:PRINT
110 PRINT &quot;YOU WILL HAVE 6 TRIES TO GUESS THE AMOUNT OF MONEY IN THE&quot;
120 PRINT &quot;HI LO JACKPOT, WHICH IS BETWEEN 1 AND 100 DOLLARS.  IF YOU&quot;
130 PRINT &quot;GUESS THE AMOUNT, YOU WIN ALL THE MONEY IN THE JACKPOT!&quot;
140 PRINT &quot;THEN YOU GET ANOTHER CHANCE TO WIN MORE MONEY.  HOWEVER,&quot;
150 PRINT &quot;IF YOU DO NOT GUESS THE AMOUNT, THE GAME ENDS.&quot;:PRINT
160 R=0
170 B=0:PRINT
180 Y=INT(100*RND(1))
200 PRINT &quot;YOUR GUESS&quot;;
210 INPUT A
220 B=B+1
230 IF A=Y THEN 300
240 IF A&gt;Y THEN 270
250 PRINT &quot;YOUR GUESS IS TOO LOW.&quot;:GOTO 280
270 PRINT &quot;YOUR GUESS IS TOO HIGH.&quot;
280 PRINT:IF B&lt;6 THEN 200
290 PRINT &quot;YOU BLEW IT...TOO BAD...THE NUMBER WAS&quot;;Y
295 R=0:GOTO 350
300 PRINT &quot;GOT IT!!!!!!!!!!   YOU WIN&quot;;Y;&quot;DOLLARS.&quot;
310 R=R+Y
320 PRINT &quot;YOUR TOTAL WINNINGS ARE NOW&quot;;R;&quot;DOLLARS.&quot;
350 PRINT:PRINT &quot;PLAY AGAIN (YES OR NO)&quot;;
360 INPUT A$:IF A$=&quot;YES&quot; THEN 170
380 PRINT:PRINT &quot;SO LONG.  HOPE YOU ENJOYED YOURSELF!!!&quot;
390 END
</code></pre></div>

<p>Not too complex, but you’ll notice a couple of easy-to-miss <code>GOTO</code> statement
which make flow control a touch odd. Still, that’s what we had to work with.</p>

<p>What’s worse is that BASIC was an <em>interpreted</em> language. Today, many
languages are compiled directly to machine code, such as C. Some languages,
like Perl, are compiled to byte code code before they’re executed. BASIC was
interpreted and executed line by line. If you had a 1,000 line BASIC program
and a syntax error on line 793, you often wouldn’t find out unless that line
executed. It made development <em>hard</em>, but it did mean that we were constantly
manually doing QA on our programs, something that is often skipped in today’s
TDD world.</p>

<p>And if that’s not bad enough, trying to optimize BASIC programs often meant
shortening variable names so that they would take up less memory!</p>

<p>Ignoring my whining about how hard life was back, for my text adventure, I
wanted a sentence parser that was better than Zork, Adventure, and other
games, but before I could <em>parse</em> the sentence, I had to lex it (break it into
tokens). In the world of BASIC, this was no easy task.</p>

<p>When writing a parser, you first <em>lex</em> the data into discreet tokens (words,
in our case) and parsers take those words and figure out what the sentence
is (or if it is grammatically incorrect).</p>

<p>Naturally, the 1987 me had no idea what that meant. I just knew that I needed
to convert those words into numbers I could use a <code>ON X GOSUB</code> command to
dispatch to the correct subroutine. I’d figure out the hard stuff later.</p>

<p>But the hard stuff was lexing the string into tokens.</p>

<blockquote>
  <p>“Hit the skeleton with the sword, take his ring, and then walk north and touch
  the altar.”</p>
</blockquote>

<p>When I wrote my lexer, it worked flawlessly. But it took <em>eight</em> seconds to
lex that string into the proper numbers.</p>

<p>Eight seconds. I remember that very distinctly because it was at that moment
that I knew my dreams of writing a grand text adventure were dead if I
couldn’t get that working. All of my work mapping out the hotel you woke up in
and the puzzles you would have to solve were for nothing if I couldn’t fix
this.</p>

<p>So I fixed it.</p>

<p>I knew that machine code would run much faster than BASIC, though I didn’t
know <em>how</em> much faster it might be. I was just assuming it would improve the
performance.</p>

<p>My roommate had an assembly program for the computer, along with a manual. I
pored over them and because BASIC has such a paucity of features, it was
not too difficult to convert the lexer to assembler, though it took me a few
days.</p>

<p>But I had to call this routine from BASIC. That’s an odd combination of
<code>CLEAR</code> (reserve memory), <code>DATA</code> (define your program), <code>POKE</code> (put your
program in memory), <code>DEFUSR...</code> (define the user routine used to call your
program) and <code>USR...</code> (call the user routine) commands. Here’s a small program
to print out the ASCII value of what character the user typed (<a href="https://colorcomputerarchive.com/repo/Documents/Manuals/Hardware/Getting%20Started%20With%20Extended%20Color%20Basic%20(Tandy).pdf" target="_blank">from the user
manual</a> <span class="fa fa-external-link fa_custom"></span>)
(warning: pdf):</p>

<div class="shadow"><pre class="scrolled"><code class="language-basic">5 CLEAR 25. 12000 'RESERVE MEMORY
10 DEFUSR1=1200015 CLS
20 FOR I = 1 TO 28 &quot;STORE EACH BYTE OF OBJECT CODE
30 READ B: POKE 12000 + I. B
a0 NEXT I
a5 'HERE IS THE OBJECT CODE
50 DATA 173,159,160.0
60 DATA 39.250.128.10.38.12
70 DATA 173.159,160.0.39.250
75 DATA 129. 65, 45. 2
80 DATA 128. 64, 31.137,78
90 DATA 126.180. 21111
99 'TELL BASIC WHERE THE ROUTINE IS
100 POKE 275. 15: POKE 276. 211
110 A = USR1(0) 'CALL THE SUBROUTINE AND GIVE RESULT TO A
115 IF A =13 THEN END 120 PRINT &quot;CODE =&quot;; A 130 GOTD 110
</code></pre></div>

<p>Doing this for my assembly code was daunting, but I got it working. And it ran
blindingly fast! I went from eight seconds to only the slightest of pauses. It
was incredible! It was a miracle! It was also giving me the wrong numbers.</p>

<p>I printed out the assembler on the dot matrix printer and laid out probably
eight to ten meters of paper (my memory is probably faulty), got on my hands
and knees with a pen and started laboriously tracing through that code, line
by line. This was called a <a href="https://www.techopedia.com/definition/18825/desk-check" target="_blank">desk
check</a> <span class="fa fa-external-link fa_custom"></span> and was one of
our primary debugging techniques in the 80s.</p>

<p>Hours later, with sore knees, I found my bug. I fixed the program, reran it,
and it was a success. I had a lexer for simple English sentences and could
move on to my parser.</p>

<hr />

<p>I never finished that game. It was my roommate’s computer and he moved away.
By this time I was learning C at <a href="https://lowercolumbia.edu/" target="_blank">Lower Columbia
College</a> <span class="fa fa-external-link fa_custom"></span>, Except that there was a big problem.
This was the first C class offered at LCC and we didn’t have a C compiler. We
had a <a href="https://en.wikipedia.org/wiki/Prime_Computer" target="_blank">Prime Minicomputer</a> <span class="fa fa-external-link fa_custom"></span> we
could use, but <a href="https://www.legacy.com/us/obituaries/sandiegouniontribune/name/garth-conboy-obituary?id=16006799&amp;__cf_chl_captcha_tk__=pZXWhHj4.VR.U7VqOAX.gmHTBtOCxToHc_Djz4LvVrY-1641230723-0-gaNycGzNCNE" target="_blank">Garth
Conboy</a> <span class="fa fa-external-link fa_custom"></span>,
who was writing the compiler, hadn’t finished it yet. So our first few C
programs for class were written out in long-hand and submitted to our
professor would would manually check them for correctness.</p>

<p>I still remember the day that Professor Little brought in his computer setup
and demonstrated one of the programs his company produced. It seemed awesome.
Someone asked him about the sales of the program and Professor Little started
to explain that it was very popular. It was so popular, in fact, that pirates
were copying his program and redistributing it for free.</p>

<p>And then our professor broke down crying in front of all of us. He was
teaching at LCC because so many people were using free copies of his software
instead of paying for it that his company was going broke. It was a humbling
experience for all of us to watch our professor cry.</p>

<p>Later, when we got the C compiler, the first version was buggy. Many expected
commands didn’t work and, one day, while debugging a problem, I added a
<code>printf</code> statement and the program worked! I eventually just printed an empty
string and that was enough to get my program to run. I had to show it to my
professor and explain the problem to ensure he wouldn’t mark me off on it.</p>

<hr />

<p>Fast forward to 2022, 35 years later, and I still think about that BASIC
program. Eight seconds to lex that string. I had gotten to the point where I
could walk about a map, pick up and drop items, but that was all. But damn,
eight seconds! And between me being inexperienced (I had only started
programming in ‘82), and having to use an assembler, it took me two weeks (as
I recall) to get the lexer working at an acceptable speed.</p>

<p>What would it take today? The following is a rough hack, but it shows (sort
of) what I was doing back in 1987.</p>

<div class="shadow"><pre class="scrolled"><code class="language-perl">#!/usr/bin/env perl

# Less::Boilerplate is a personal module I use for quick
# hacks, but it makes my Perl more &quot;modern&quot;
use Less::Boilerplate;
use Data::Dumper;
use Benchmark 'countit';

my $words = get_words('/usr/share/dict/words');

my $sentence =
'Hit the skeleton with the sword, take his ring and then walk north and touch the altar.';

my $t = countit( 8, sub { parse_sentence( $sentence, $words ) } );
say $t-&gt;iters;

sub parse_sentence ( $sentence, $lookup ) {

    # this is not perfect, but it replicates when I did back in the 80s.
    my @words = split /\s+/,
                lc $sentence =~ s/[[:punct:]]//gr;
    my %numbers;
    foreach my $word (@words) {
        if ( my $number = $lookup-&gt;{$word} ) {
            $numbers{$word} = $number;
        }
        else {
            warn &quot;$word not found&quot;;
        }
    }
    return \%numbers;
}

sub get_words ($file) {
    open my $fh, '&lt;', $file;
    my %words = map { state $i = 1; lc($_) =&gt; $i++ }
                split /\n/,
                do { local $/; &lt;$fh&gt; };
    return \%words;
}
</code></pre></div>

<p>That consistently prints out a number around 1.9 million. In other words, this
quick ‘n dirty hack that I wrote in a couple of minutes replaced two weeks
worth of work in 1987 and ran almost two million times faster.</p>

<p>That’s right. This trivial example was not only easier to write, but it was
two million times faster than the BASIC code I wrote 35 years ago.</p>

<p>You kids have no idea how easy you have it.</p>




          <p><strong>Please leave a comment below!</strong></p>



<hr>
    <div class="prevNext">
        
        <a href="/blog/how-i-got-caught-in-high-school.html" class="prevPost">&laquo; How I Got Caught in High School</a>
        
        <a href="/#" class="nextPost"></a>
    </div>

<hr>

          <p>If you'd like top-notch consulting or training, <a
          href="mailto:curtis.poe@gmail.com">email me</a> and let's discuss
          how I can help you. Read my <a href="/hireme.html">hire me</a> page
          to learn more about my background.</p>
        </div>
    </div>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="row">
      <div class="three columns">
        <p></p>
      </div>
      <div class="nine columns">
        <hr>
        <p>Copyright &copy; 2018-2022 by Curtis “Ovid” Poe.</p>
      </div>
    </div>
        <div id="disqus_thread"></div>
    <div class="row">
      <div class="twelve columns">
      
        <script>
        var disqus_config = function () {
            this.page.url        = "https://ovid.github.io/blog/programming-in-1987-versus-today.html";
            this.page.identifier = "blog/programming-in-1987-versus-today";
            this.page.title      = "Programming in 1987 Versus Today";
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://https-ovid-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      
        </div>
    </div>
    </div>
    
    <script src="/static/js/prism.js"></script>
    
	
</body>
</html>


